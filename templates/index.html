<!-- {% block title %}Small Talk Themantic Chat Rooms{% endblock %} -->

<!-- altering the base (app wrapper) to the index panel -->
{% extends 'base.html' %} {% block content %}

    <!-- navigation bar -->
    <nav class="index-nav">
        <p class="index-title"><b>Small Talk</b></p>
        <div class="index-buttons">
            <button class="about">About</button>
            <button type="button" id="logInButton">Log In</button>
            <button type="button" id="signUpButton">Sign Up</button>
        </div>
        <!-- moblie nav button -->
        <img src="{{ url_for('static', filename='bars-solid.svg') }}" alt="mobile navigation button" class="mobile-nav-btn">
        <!-- mobile navigation -->
        <div id="mobile-nav-window">
            <p class="about-mobile">About</p>
            <button id="logInMobileButton">Log In</button>
            <button id="signUpMobileButton">Sign Up</button>
            <button class="close-mobile-nav">close</button>
        </div>
    </nav>
    <!-- main section -->
    <main class="main-index">
        <div class="intro">
            <h2>Thematic Chatrooms</h2>
            <p>
                Welcome to the Thematic Chatrooms <br />
                Discover and engage in dynamic chatrooms tailored to your interests! <br />
                This chatroom website brings like-minded individuals together for <br />meaningful conversations.
            </p>
        </div>

        <div class="about-content">
            <p class="about-text">
                This webpage is designed for users with accounts, the platform allows you to effortlessly select from a range of themes to join discussion rooms in an instant.<br />
                Once inside, you can engage in text-based conversations with other users who've joined the same room. Seamlessly switch between rooms to explore different topics. <br />
                Create an account through the "Sign Up" process.
            </p>
            <button class="about-close">close</button>
        </div>
    </main>

    <!-- Javascript inclusion -->
    <script>
        // "Log in" & "Sign up" button destinations
        const logInButton = document.querySelector('#logInButton')
        const signUpButton = document.querySelector('#signUpButton')
            
        logInButton.addEventListener('click', ()=>{
        location.href="{{ url_for('login') }}"
        })
        signUpButton.addEventListener('click', ()=>{
            location.href="{{ url_for('signup') }}"
        })

        // Mobile version
        const logInMobileButton = document.querySelector('#logInMobileButton')
        const signUpMobileButton = document.querySelector('#signUpMobileButton')

        logInMobileButton.addEventListener('click', ()=>{
        location.href="{{ url_for('login') }}"})

        signUpMobileButton.addEventListener('click', ()=>{
            location.href="{{ url_for('signup') }}"
        })


    // mobile nav button & "about" segment

    // getting necessities;
    const mobileNavButton = document.querySelector('.mobile-nav-btn')
    const mobileNavWindow = document.getElementById('mobile-nav-window');
    const mobileNavCloseButton = document.querySelector('.close-mobile-nav');
    const mainIntroDiv = document.querySelector('.intro')
    const aboutContent = document.querySelector('.about-content')
    const about = document.querySelector('.about')
    const aboutClose = document.querySelector('.about-close')


    // navigation button
    mobileNavButton.addEventListener('click', ()=>{
        if(mobileNavWindow.style.display != 'block'){
        mobileNavWindow.style.display = 'block';
        mainIntroDiv.style.filter = "blur(8px)";
        aboutContent.style.display= 'none';
        mobileNavButton.style.transform = 'rotate(90deg)'
    };
    })

    // nanigation closure function support
    const navWindowClosure = function(){
        mobileNavWindow.style.display = 'none';
        mobileNavWindow.style.transform = 'translate(-50%, -50%)';
        mainIntroDiv.style.filter = "blur(0)"
    }

    // navigation closure
    mobileNavCloseButton.addEventListener('click',()=>{
        mobileNavWindow.style.transform = 'translate(-50%, 140%)';
        mobileNavButton.style.transform = 'rotate(180deg)'
        setTimeout(navWindowClosure, 300)
    })

    // "about" segment opening 
    about.addEventListener('click',()=>{
        aboutContent.style.display = 'block'
        mainIntroDiv.style.filter = "blur(8px)"
    })

    // "about" closure function support
    const aboutWindowClosure = function(){
        aboutContent.style.display = 'none';
        aboutContent.style.transform = 'translate(-50%, -50%)';
        mainIntroDiv.style.filter = "blur(0)"
    }

    // "about" closure
    aboutClose.addEventListener('click', ()=>{
        aboutContent.style.transform = 'translate(-50%, -230%)';
        setTimeout(aboutWindowClosure, 500);
    })

    // mobile "about" opening
    const aboutMobile = document.querySelector('.about-mobile')
    aboutMobile.addEventListener('click', ()=>{
        mobileNavWindow.style.display = 'none';
        mobileNavButton.style.transform = 'rotate(180deg)'
        aboutContent.style.display = 'block'
    })
    </script>
{% endblock %}
