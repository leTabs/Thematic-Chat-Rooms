<!-- {% block title %}Small Talk Themantic Chat Rooms{% endblock %} -->

<!-- altering the base (app wrapper) to the index panel -->
{% extends 'base.html' %} {% block content %}

    <!-- navigation bar -->
    <nav class="index-nav">
        <p class="index-title"><b>Small Talk</b></p>
        <div class="index-buttons">
            <button class="about">About</button>
            <button type="button" id="logInButton">Log In</button>
            <button type="button" id="signUpButton">Sign Up</button>
        </div>
        <!-- moblie nav button -->
        <img src="{{ url_for('static', filename='bars-solid.svg') }}" alt="mobile navigation button" class="mobile-nav-btn">
        <!-- mobile navigation -->
        <div id="mobile-nav-window">
            <p class="about-mobile">About</p>
            <button id="logInMobileButton">Log In</button>
            <button id="signUpMobileButton">Sign Up</button>
            <button class="close-mobile-nav">close</button>
        </div>
    </nav>
    <!-- main section -->
    <main class="main-index">
        <div class="intro">
            <h2>Themantic Chatrooms</h2>
            <p>
                Welcome to the Themantic Chatrooms <br />
                Discover and engage in dynamic chatrooms tailored to your interests! <br />
                This chatroom website brings like-minded individuals together for <br />meaningful conversations.
            </p>
            <button class="continue">Continue</button>
        </div>
    </main>

    <!-- Javascript inclusion -->
    <script>
        // "Log in" & "Sign up" button destinations
        const logInButton = document.querySelector('#logInButton')
        const signUpButton = document.querySelector('#signUpButton')
            
        logInButton.addEventListener('click', ()=>{
        location.href="{{ url_for('login') }}"
        })
        signUpButton.addEventListener('click', ()=>{
            location.href="{{ url_for('signup') }}"
        })

        // Mobile version
        const logInMobileButton = document.querySelector('#logInMobileButton')
        const signUpMobileButton = document.querySelector('#signUpMobileButton')

        logInMobileButton.addEventListener('click', ()=>{
        location.href="{{ url_for('login') }}"})

        signUpMobileButton.addEventListener('click', ()=>{
            location.href="{{ url_for('signup') }}"
        })


    // mobile nav button

    mobileNavButton = document.querySelector('.mobile-nav-btn')
    mobileNavWindow = document.getElementById('mobile-nav-window');
    mobileNavCloseButton = document.querySelector('.close-mobile-nav');
    mainIntroDiv = document.querySelector('.intro')



    mobileNavButton.addEventListener('click', ()=>{
        if(mobileNavWindow.style.display != 'block'){
        mobileNavWindow.style.display = 'block';
        mainIntroDiv.style.filter = "blur(8px)";
        mobileNavButton.style.transform = 'rotate(90deg)'
    };
    })

    const navWindowClosure = function(){
        mobileNavWindow.style.display = 'none';
        mobileNavWindow.style.transform = 'translate(-50%, -50%)';
        mainIntroDiv.style.filter = "blur(0)"
    }

     mobileNavCloseButton.addEventListener('click',()=>{
        mobileNavWindow.style.transform = 'translate(-50%, 140%)';
        mobileNavButton.style.transform = 'rotate(180deg)'
        setTimeout(navWindowClosure, 300)
    })


    const about = document.querySelector('.about')
    about.addEventListener('click',()=>{
          
    })
    </script>
{% endblock %}
