<!-- {% block title %}Small Talk Themantic Chat Rooms|Find Chat Romm{% endblock %} -->

<!-- altering the base (app wrapper) to the log in panel -->
{% extends 'base.html'%} {% block content %}
    <section>
        <!-- navigation bar -->
        <nav class="index-nav">
            <p class="index-title"><b>Small Talk</b></p>
            <div>
                <button class="preview">Preview</button>
                <button class="about">About</button>
                
                <!-- the form element, for logging out -->
                <form action="{{ url_for('logout') }}" method="POST" class="logout">
                    <button type="submit" id="logout">Log Out</button>
                </form>
            </div>
        </nav>
        <!-- main section -->
        <main>
            <h3 class="statement" style="margin-top: 7rem;">Find a Theme</h3> 
            <section class="all-themes">
                    <form method="get"  acttion="{{url_for('find_chat')}}" action="{{url_for('chatting')}}" class="themes">
                        <!-- loop of all the themes -->
                        {% for user in usernames %}
                        <!-- an element with the theme and a "join" button -->
                        <p>
                            <span>{{user}}</span>
                            <button type="submit" class="joinButton" name="reciever" value="{{ loop.index }} {{user}}">
                                Join
                            </button>
                        </p>
                        {% endfor %}
                    </form>
            </section>


        </main>
    </section>

    <!-- directs the window location to the "log in" panel, Javascript inclusion -->
    <script type="text/javascript">
        let back = document.getElementById('logout')
        logout.addEventListener('click', ()=>{
            window.location = "{{ url_for('login') }}"
        })
    </script>
{% endblock %}
